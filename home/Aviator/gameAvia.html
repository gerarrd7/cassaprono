<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <title>Aviator Predictor Pro</title>
    
    <!-- Favicon temporaire en ligne -->
    <link rel="shortcut icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>✈️</text></svg>" type="image/x-icon">
    
    <!-- Bannière publicitaire -->
    <script>
      atOptions = {
        'key' : '80500c3d92cf6c81266e26d9d750dc82',
        'format' : 'iframe',
        'height' : 60,
        'width' : 468,
        'params' : {}
      };
    </script>
    <script src="https://www.highperformanceformat.com/80500c3d92cf6c81266e26d9d750dc82/invoke.js"></script>
    
    <!-- Popunder (affichage limité - 3 fois par heure) -->
    <script>
      (function() {
        const now = Date.now();
        const oneHour = 60 * 60 * 1000;
        const maxPopunders = 6;
        
        let popunderHistory = JSON.parse(localStorage.getItem('popunderHistory') || '[]');
        popunderHistory = popunderHistory.filter(time => (now - time) < oneHour);
        
        if (popunderHistory.length < maxPopunders) {
          popunderHistory.push(now);
          localStorage.setItem('popunderHistory', JSON.stringify(popunderHistory));
          var s = document.createElement('script');
          s.src = 'https://pl28531604.effectivegatecpm.com/a3/1b/17/a31b171f8f08db3e985757183e37a5b5.js';
          document.head.appendChild(s);
        }
      })();
    </script>
            
<link rel="stylesheet" href="sty.css">
</head>
<body>
    <div class="header">
        <h1 class="logo" id="app-title">Aviator Predictor</h1>
        <p class="subtitle" id="app-subtitle">Générateur de signaux avancé</p>
        <p class="version" id="app-version">Version 2.0 Pro</p>
    </div>

    <div class="container">
        <div class="prediction-container">
            <div class="prediction-circle" id="prediction-circle">
                <div class="prediction-value" id="prediction-value">--</div>
                <div class="prediction-label" id="prediction-label">Coefficient</div>
            </div>
        </div>

        <div class="button-group">
            <button class="btn primary" id="generate-btn">
                <span id="btn-text">Générer Signal</span>
            </button>
            <button class="btn secondary" id="back-btn">Retour</button>
        </div>
        
        <!-- Publicité Bannière -->
        <div class="ad-banner" style="margin: 15px auto; padding: 12px; text-align: center; background: rgba(255,255,255,0.12); border-radius: 12px; border: 1px solid rgba(255,255,255,0.25); width: calc(100% - 20px); max-width: 490px; box-sizing: border-box; overflow: hidden; position: relative; z-index: 10;">
            <div style="font-size: 9px; color: rgba(255,255,255,0.5); margin-bottom: 8px; text-transform: uppercase; letter-spacing: 1.5px; font-weight: 500;">Publicité</div>
            <div style="display: flex; justify-content: center; align-items: center; overflow: hidden; max-width: 100%;">
                <script>
                  atOptions = {
                    'key' : '80500c3d92cf6c81266e26d9d750dc82',
                    'format' : 'iframe',
                    'height' : 60,
                    'width' : 468,
                    'params' : {}
                  };
                </script>
                <script src="https://www.highperformanceformat.com/80500c3d92cf6c81266e26d9d750dc82/invoke.js"></script>
            </div>
        </div>
        <style>
          .ad-banner {
              transform: scale(1);
              transform-origin: center top;
          }
          .ad-banner iframe {
              max-width: 100% !important;
              transform-origin: center center;
          }
          @media (max-width: 500px) {
              .ad-banner {
                  transform: scale(0.85);
                  margin: 10px auto !important;
                  padding: 10px !important;
              }
          }
          @media (max-width: 400px) {
              .ad-banner {
                  transform: scale(0.72);
                  margin: 5px auto !important;
              }
          }
          @media (max-width: 350px) {
              .ad-banner {
                  transform: scale(0.65);
              }
          }
        </style>
    </div>

    <div class="status-bar" id="status-bar"></div>

    <!-- Rectangle publicitaire avec croix -->
    <div class="ad-banner" style="position: fixed; bottom: 20px; right: 20px; width: 280px; background: rgba(0,0,0,0.9); border-radius: 12px; border: 2px solid rgba(255,255,255,0.2); backdrop-filter: blur(10px); z-index: 1000; display: none; animation: slideInUp 0.5s ease-out;" id="rectangleAd">
        <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px 12px 5px;">
            <div style="font-size: 10px; color: rgba(255,255,255,0.7); text-transform: uppercase; letter-spacing: 1px;">Publicité</div>
            <button style="background: rgba(255,255,255,0.1); border: none; color: rgba(255,255,255,0.8); width: 22px; height: 22px; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.3s ease; font-size: 12px;" id="closeRectangleAd" onmouseover="this.style.background='rgba(255,255,255,0.2)'; this.style.color='white'; this.style.transform='scale(1.1)';" onmouseout="this.style.background='rgba(255,255,255,0.1)'; this.style.color='rgba(255,255,255,0.8)'; this.style.transform='scale(1)';">×</button>
        </div>
        <div style="padding: 0 12px 12px;">
            <script>
              atOptions = {
                'key' : '80500c3d92cf6c81266e26d9d750dc82',
                'format' : 'iframe',
                'height' : 60,
                'width' : 468,
                'params' : {}
              };
            </script>
            <script src="https://www.highperformanceformat.com/80500c3d92cf6c81266e26d9d750dc82/invoke.js"></script>
        </div>
    </div>

       
    <script src="js.js"></script>
    <script>
        // Redirection automatique vers Netlify
        function checkAndRedirectToNetlify() {
            const currentUrl = window.location.href;
            if (currentUrl.includes('gerarrd7.github.io/cassaprono/') || 
                currentUrl.includes('gerard7.github.io/cassaprono/') ||
                currentUrl.includes('github.io/cassaprono')) {
                
                const urlParams = window.location.search;
                const newUrl = 'https://amazing-jelly-603fc6.netlify.app/home/Aviator/gameAvia.html' + urlParams;
                window.location.replace(newUrl);
                return true;
            }
            return false;
        }

        document.addEventListener('DOMContentLoaded', function() {
            // Vérification et redirection Netlify (priorité absolue)
            if (checkAndRedirectToNetlify()) {
                return;
            }
            
            function manageRectangleAd() {
                const rectangleAd = document.getElementById('rectangleAd');
                const closeBtn = document.getElementById('closeRectangleAd');
                const lastClosed = localStorage.getItem('rectAdClosed');
                const now = Date.now();
                
                if (lastClosed && (now - parseInt(lastClosed)) < 86400000) return;
                if (Math.random() < 0.25) {
                    setTimeout(() => {
                        rectangleAd.style.display = 'block';
                    }, Math.random() * 6000 + 8000);
                }
                
                closeBtn.addEventListener('click', () => {
                    rectangleAd.style.display = 'none';
                    localStorage.setItem('rectAdClosed', now.toString());
                });
                
                setTimeout(() => {
                    if (rectangleAd.style.display === 'block') {
                        rectangleAd.style.display = 'none';
                    }
                }, 30000);
            }
            
            setTimeout(manageRectangleAd, 2000);
        });
    </script>
</body>
</html>